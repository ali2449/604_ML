<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>IAF 604 - Module 1: AI → ML → Tools → Python → Cloud</title>

  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

  <!-- Chart.js (deferred) -->
  <script defer src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>

  <style>
    /************************************************************
     * THEME: Aurora with Day/Night Mode
     ************************************************************/
    :root {
      /* Night Mode (Default) */
      --bg0: #070A12;
      --bg1: #0B1020;
      --panel: #0F172A;
      --panel2: #0B1226;
      --card: #101B34;
      --text: #EAF0FF;
      --muted: rgba(234, 240, 255, 0.75);
      --muted2: rgba(234, 240, 255, 0.62);
      --border: rgba(148, 163, 184, 0.14);
      --shadow: 0 24px 60px rgba(0, 0, 0, 0.35);

      --primary: #60A5FA;
      --secondary: #A78BFA;
      --accent: #F472B6;
      --success: #34D399;
      --warning: #FBBF24;
      --danger: #FB7185;
      --cyan: #22D3EE;

      --radius: 16px;
      --radius2: 22px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;

      --ring: 0 0 0 4px rgba(96, 165, 250, 0.22);
      --ring2: 0 0 0 4px rgba(167, 139, 250, 0.20);

      /* Theme toggle variables (SHOW CURRENT THEME) */
      --mode-icon: '\f186'; /* moon */
      --mode-label: 'Night Mode';
    }

    /* Day Mode Theme */
    [data-theme="day"] {
      --bg0: #F8FAFC;
      --bg1: #F1F5F9;
      --panel: #FFFFFF;
      --panel2: #F8FAFC;
      --card: #FFFFFF;
      --text: #0F172A;
      --muted: rgba(15, 23, 42, 0.75);
      --muted2: rgba(15, 23, 42, 0.62);
      --border: rgba(148, 163, 184, 0.25);
      --shadow: 0 20px 40px rgba(0, 0, 0, 0.08);

      --primary: #2563EB;
      --secondary: #7C3AED;
      --accent: #DB2777;
      --success: #10B981;
      --warning: #F59E0B;
      --danger: #EF4444;
      --cyan: #06B6D4;

      --ring: 0 0 0 4px rgba(37, 99, 235, 0.15);
      --ring2: 0 0 0 4px rgba(124, 58, 237, 0.15);

      /* SHOW CURRENT THEME */
      --mode-icon: '\f185'; /* sun */
      --mode-label: 'Day Mode';
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html { scroll-behavior: smooth; }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: var(--bg0);
      color: var(--text);
      line-height: 1.7;
      min-height: 100vh;

      /* targeted transition (lighter than global *) */
      transition: background-color 0.35s ease, color 0.35s ease;
    }

    /* Dynamic background gradients based on theme */
    body:not([data-theme="day"]) {
      background:
        radial-gradient(1200px 520px at 15% 0%, rgba(96, 165, 250, 0.18), transparent 55%),
        radial-gradient(900px 520px at 90% 10%, rgba(244, 114, 182, 0.16), transparent 55%),
        radial-gradient(900px 520px at 75% 90%, rgba(34, 211, 238, 0.10), transparent 55%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
    }

    body[data-theme="day"] {
      background:
        radial-gradient(1200px 520px at 15% 0%, rgba(37, 99, 235, 0.08), transparent 55%),
        radial-gradient(900px 520px at 90% 10%, rgba(219, 39, 119, 0.08), transparent 55%),
        radial-gradient(900px 520px at 75% 90%, rgba(6, 182, 212, 0.06), transparent 55%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
    }

    a { color: var(--primary); text-decoration: none; }
    a:hover { text-decoration: underline; }

    .container { max-width: 1240px; margin: 0 auto; padding: 22px; }

    .skip {
      position: absolute;
      left: -999px;
      top: 0;
      background: var(--panel);
      border: 1px solid var(--border);
      padding: 10px 12px;
      border-radius: 12px;
      box-shadow: var(--shadow);
      z-index: 9999;
      color: var(--text);
    }

    .skip:focus {
      left: 16px;
      top: 16px;
      outline: none;
      box-shadow: var(--shadow), var(--ring);
    }

    /************************************************************
     * THEME TOGGLE
     ************************************************************/
    .theme-toggle-container {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1000;
    }

    .theme-toggle {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 12px 18px;
      border-radius: 50px;
      background: var(--panel);
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
      cursor: pointer;
      font-weight: 600;
      color: var(--text);
      backdrop-filter: blur(10px);

      transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.35s ease, color 0.35s ease, border-color 0.35s ease;
    }

    .theme-toggle:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    }

    .theme-toggle::before {
      content: var(--mode-icon);
      font-family: 'Font Awesome 6 Free';
      font-weight: 900;
      font-size: 1.1em;
    }

    .theme-toggle .label {
      font-size: 0.9em;
      opacity: 0.9;
      white-space: nowrap;
    }

    /************************************************************
     * HEADER
     ************************************************************/
    header {
      background: linear-gradient(135deg, rgba(15, 23, 42, 0.90), rgba(16, 27, 52, 0.92));
      border: 1px solid rgba(148, 163, 184, 0.18);
      color: var(--text);
      padding: 28px;
      border-radius: var(--radius2);
      box-shadow: var(--shadow);
      margin-bottom: 24px;
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(10px);

      transition: background-color 0.35s ease, border-color 0.35s ease;
    }

    body[data-theme="day"] header {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(248, 250, 252, 0.98));
      border: 1px solid rgba(148, 163, 184, 0.25);
    }

    header::after {
      content: "";
      position: absolute;
      right: -180px;
      top: -180px;
      width: 420px;
      height: 420px;
      background: radial-gradient(circle at 30% 30%, rgba(96, 165, 250, 0.15), transparent 62%);
      filter: blur(40px);
      opacity: 0.6;
    }

    body[data-theme="day"] header::after {
      background: radial-gradient(circle at 30% 30%, rgba(37, 99, 235, 0.1), transparent 62%);
      opacity: 0.4;
    }

    .course-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 20px;
      flex-wrap: wrap;
      position: relative;
      z-index: 1;
    }

    .course-info h1 {
      font-size: clamp(24px, 2.8vw, 38px);
      margin-bottom: 8px;
      letter-spacing: -0.5px;
      line-height: 1.2;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .course-info h2 {
      font-size: clamp(16px, 1.8vw, 20px);
      font-weight: 400;
      opacity: 0.9;
      margin-bottom: 12px;
      color: var(--muted);
    }

    .subtitle { max-width: 900px; color: var(--muted); font-size: 15px; margin-top: 12px; line-height: 1.6; }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 10px 18px;
      border-radius: 50px;
      font-weight: 700;
      letter-spacing: 0.2px;
      border: 1px solid var(--border);
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(8px);
      width: fit-content;
      margin-top: 10px;

      transition: background-color 0.35s ease, border-color 0.35s ease;
    }

    body[data-theme="day"] .badge { background: rgba(15, 23, 42, 0.05); }

    .meta {
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid var(--border);
      padding: 20px;
      border-radius: 20px;
      min-width: 340px;
      backdrop-filter: blur(8px);

      transition: background-color 0.35s ease, border-color 0.35s ease;
    }

    body[data-theme="day"] .meta {
      background: rgba(15, 23, 42, 0.03);
      border: 1px solid rgba(148, 163, 184, 0.2);
    }

    .meta p { margin: 8px 0; font-size: 14px; color: var(--muted); }

    .pillrow { display: flex; gap: 10px; flex-wrap: wrap; margin-top: 12px; }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 14px;
      border-radius: 50px;
      background: rgba(15, 23, 42, 0.35);
      border: 1px solid var(--border);
      font-weight: 600;
      font-size: 12px;
      color: var(--text);

      transition: transform 0.2s ease, border-color 0.2s ease, background-color 0.35s ease;
    }

    body[data-theme="day"] .pill { background: rgba(15, 23, 42, 0.05); }

    .pill:hover { transform: translateY(-2px); border-color: var(--primary); }

    /************************************************************
     * LAYOUT
     ************************************************************/
    .layout {
      display: grid;
      grid-template-columns: 2.25fr 1fr;
      gap: 24px;
      align-items: start;
    }

    @media (max-width: 980px) {
      .layout { grid-template-columns: 1fr; }
      .meta { min-width: auto; width: 100%; }
    }

    .panel {
      background: var(--panel);
      border-radius: var(--radius);
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
      overflow: hidden;

      transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.35s ease, border-color 0.35s ease;
    }

    .panel:hover {
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
      transform: translateY(-2px);
    }

    .main { padding: 24px; }
    .sidebar { display: flex; flex-direction: column; gap: 20px; }
    .card { padding: 20px; }

    .card h3 {
      color: var(--text);
      border-bottom: 1px solid var(--border);
      padding-bottom: 12px;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 18px;
      font-weight: 600;
    }

    /************************************************************
     * TYPOGRAPHY + SECTIONS
     ************************************************************/
    .section { margin: 24px 0; scroll-margin-top: 20px; }

    .section h4 {
      margin-bottom: 16px;
      font-size: 1.4rem;
      display: flex;
      align-items: center;
      gap: 12px;
      color: var(--text);
      font-weight: 600;
    }

    .lead { font-size: 16px; color: var(--muted); line-height: 1.7; }
    .muted { color: var(--muted); font-size: 14px; }
    .small { font-size: 13px; color: var(--muted2); }

    /************************************************************
     * COMPONENTS
     ************************************************************/
    .callout {
      padding: 20px;
      border-radius: 16px;
      border: 1px solid var(--border);
      background: rgba(15, 23, 42, 0.05);
      margin: 16px 0;

      transition: background-color 0.35s ease, border-color 0.35s ease;
    }

    body[data-theme="day"] .callout { background: rgba(15, 23, 42, 0.02); }

    .definition {
      background: linear-gradient(135deg, rgba(167, 139, 250, 0.1), rgba(96, 165, 250, 0.05));
      border: 1px solid rgba(167, 139, 250, 0.2);
      border-left: 4px solid rgba(167, 139, 250, 0.7);
      padding: 20px;
      border-radius: 16px;
      margin: 16px 0;
    }

    body[data-theme="day"] .definition {
      background: linear-gradient(135deg, rgba(167, 139, 250, 0.08), rgba(96, 165, 250, 0.04));
    }

    .note {
      padding: 20px;
      border-radius: 16px;
      border: 1px solid rgba(251, 191, 36, 0.3);
      background: rgba(251, 191, 36, 0.08);
      margin-top: 16px;
      color: var(--text);
    }

    body[data-theme="day"] .note { background: rgba(251, 191, 36, 0.06); }

    .grid2 { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 16px; }
    @media (max-width: 980px) { .grid2 { grid-template-columns: 1fr; } }

    .box-title { font-weight: 600; display: flex; align-items: center; gap: 10px; margin-bottom: 8px; color: var(--text); }

    .cards3 { display: grid; grid-template-columns: repeat(3, minmax(0, 1fr)); gap: 20px; margin-top: 16px; }
    @media (max-width: 1100px) { .cards3 { grid-template-columns: 1fr; } }

    .mini-card {
      border-radius: 20px;
      padding: 24px;
      border: 1px solid var(--border);
      background: var(--card);
      position: relative;
      overflow: hidden;
      height: 100%;

      transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.35s ease, border-color 0.35s ease;
    }

    .mini-card:hover { transform: translateY(-4px); box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1); }

    .mini-card::after {
      content: "";
      position: absolute;
      inset: auto -60px -100px auto;
      width: 300px;
      height: 300px;
      background: radial-gradient(circle at 30% 30%, rgba(96, 165, 250, 0.1), transparent 65%);
      transform: rotate(10deg);
      filter: blur(20px);
      opacity: 0.5;
    }

    .mini-card h5 {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 12px;
      color: var(--text);
      font-size: 1.1rem;
      font-weight: 600;
      position: relative;
      z-index: 1;
    }

    .mini-card p, .mini-card ul { position: relative; z-index: 1; color: var(--muted); }
    .mini-card ul { padding-left: 20px; margin-top: 12px; }
    .mini-card li { margin-bottom: 6px; line-height: 1.5; }

    .mini-card.blue { border-top: 4px solid rgba(96, 165, 250, 0.9); }
    .mini-card.violet { border-top: 4px solid rgba(167, 139, 250, 0.9); }
    .mini-card.pink { border-top: 4px solid rgba(244, 114, 182, 0.9); }
    .mini-card.green { border-top: 4px solid rgba(52, 211, 153, 0.9); }
    .mini-card.cyan { border-top: 4px solid rgba(34, 211, 238, 0.9); }
    .mini-card.gray { border-top: 4px solid rgba(148, 163, 184, 0.7); }

    .chiprow { display: flex; gap: 10px; flex-wrap: wrap; margin-top: 16px; position: relative; z-index: 1; }

    .chip {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 14px;
      border-radius: 50px;
      font-weight: 600;
      font-size: 12px;
      border: 1px solid var(--border);
      background: rgba(15, 23, 42, 0.1);
      color: var(--text);

      transition: transform 0.15s ease, border-color 0.2s ease, background-color 0.35s ease;
    }

    body[data-theme="day"] .chip { background: rgba(15, 23, 42, 0.05); }
    .chip:hover { transform: translateY(-1px); border-color: var(--primary); }

    /************************************************************
     * CHARTS
     ************************************************************/
    .chart {
      margin-top: 20px;
      padding: 20px;
      border-radius: 20px;
      border: 1px solid var(--border);
      background: rgba(15, 23, 42, 0.03);

      transition: background-color 0.35s ease, border-color 0.35s ease;
    }

    body[data-theme="day"] .chart { background: rgba(15, 23, 42, 0.01); }

    .chart-title {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      margin-bottom: 16px;
      font-weight: 600;
      color: var(--text);
      font-size: 15px;
    }

    canvas { width: 100% !important; height: 320px !important; }

    /************************************************************
     * INTERACTIVE
     ************************************************************/
    .interactive {
      background: rgba(15, 23, 42, 0.03);
      border: 2px dashed var(--border);
      padding: 24px;
      border-radius: 20px;
      margin-top: 20px;

      transition: border-color 0.25s ease, background-color 0.35s ease;
    }

    body[data-theme="day"] .interactive { background: rgba(15, 23, 42, 0.01); }
    .interactive:hover { border-color: var(--primary); }

    textarea {
      width: 100%;
      padding: 16px;
      border: 1px solid var(--border);
      border-radius: 12px;
      margin-top: 16px;
      min-height: 120px;
      resize: vertical;
      color: var(--text);
      background: var(--panel2);
      outline: none;
      font-family: inherit;
      font-size: 14px;

      transition: box-shadow 0.2s ease, border-color 0.2s ease, background-color 0.35s ease, color 0.35s ease;
    }

    textarea:focus { box-shadow: var(--ring); border-color: var(--primary); }

    .formrow { display: flex; gap: 12px; flex-wrap: wrap; margin-top: 16px; align-items: center; }

    .range-wrap {
      display: flex;
      align-items: center;
      gap: 16px;
      width: 100%;
      background: var(--panel2);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 16px 20px;

      transition: background-color 0.35s ease, border-color 0.35s ease;
    }

    .range-wrap label { font-weight: 600; color: var(--text); min-width: 180px; }
    .range-wrap output { font-family: var(--mono); font-weight: 600; color: var(--text); min-width: 80px; text-align: right; }

    input[type="range"] {
      width: 100%;
      height: 6px;
      border-radius: 3px;
      background: var(--border);
      outline: none;
      accent-color: var(--primary);
    }

    .btn {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      padding: 14px 24px;
      border-radius: 12px;
      font-weight: 600;
      border: none;
      cursor: pointer;
      margin-top: 16px;
      text-decoration: none;

      transition: transform 0.2s ease, box-shadow 0.2s ease, filter 0.2s ease;
    }

    .btn:hover { transform: translateY(-2px); box-shadow: var(--ring2); filter: brightness(1.1); text-decoration: none; }
    .btn:focus { outline: none; box-shadow: var(--ring2); }

    .btn-secondary { background: linear-gradient(135deg, var(--cyan), var(--success)); }

    .btn-ghost {
      background: transparent;
      color: var(--text);
      border: 2px solid var(--border);
    }

    .btn-ghost:hover { background: var(--panel2); box-shadow: var(--ring); }

    pre {
      background: rgba(2, 6, 23, 0.95);
      color: #EAF0FF;
      padding: 24px;
      border-radius: 16px;
      overflow-x: auto;
      border: 1px solid var(--border);
      margin-top: 16px;
      font-family: var(--mono);
      font-size: 14px;
      line-height: 1.6;

      transition: background-color 0.35s ease, color 0.35s ease, border-color 0.35s ease;
    }

    body[data-theme="day"] pre {
      background: rgba(15, 23, 42, 0.05);
      color: var(--text);
      border: 1px solid var(--border);
    }

    code {
      font-family: var(--mono);
      background: rgba(96, 165, 250, 0.1);
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 0.9em;
    }

    /************************************************************
     * ENHANCEMENTS: AI vs ML Reading
     ************************************************************/
    .reading-banner {
      padding: 24px;
      border-radius: 20px;
      border: 1px solid var(--border);
      background: linear-gradient(135deg, rgba(96, 165, 250, 0.08), rgba(167, 139, 250, 0.06));
      margin: 20px 0;
    }

    .reading-banner strong { color: var(--text); }

    .kpi-grid {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 20px;
      margin-top: 20px;
    }

    @media (max-width: 1100px) { .kpi-grid { grid-template-columns: 1fr 1fr; } }
    @media (max-width: 680px) { .kpi-grid { grid-template-columns: 1fr; } }

    .kpi {
      border-radius: 20px;
      padding: 24px;
      border: 1px solid var(--border);
      background: var(--card);

      transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.35s ease, border-color 0.35s ease;
    }

    .kpi:hover { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1); }

    .kpi .kpi-top { display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 12px; }
    .kpi .kpi-title { font-weight: 600; color: var(--text); display: flex; align-items: center; gap: 12px; font-size: 15px; }

    .kpi .kpi-value {
      font-family: var(--mono);
      font-weight: 600;
      color: var(--text);
      background: var(--panel2);
      border: 1px solid var(--border);
      padding: 8px 16px;
      border-radius: 50px;
      font-size: 13px;
    }

    .kpi p { color: var(--muted); font-size: 14px; margin-top: 8px; line-height: 1.5; }

    .data-table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
      overflow: hidden;
      border-radius: 20px;
      border: 1px solid var(--border);
      background: var(--card);
      margin-top: 20px;
    }

    .data-table th, .data-table td {
      padding: 16px 20px;
      border-bottom: 1px solid var(--border);
      vertical-align: top;
      text-align: left;
    }

    .data-table th {
      font-size: 13px;
      letter-spacing: 0.5px;
      text-transform: uppercase;
      color: var(--muted);
      background: var(--panel2);
      border-bottom: 1px solid var(--border);
      font-weight: 600;
    }

    .data-table td { color: var(--text); font-size: 14px; line-height: 1.6; }
    .data-table tr:last-child td { border-bottom: none; }
    .data-table td:first-child { font-weight: 600; color: var(--text); width: 30%; }
    @media (max-width: 880px) { .data-table td:first-child { width: 40%; } }

    .table-actions { display: flex; gap: 12px; flex-wrap: wrap; align-items: center; margin-top: 20px; }

    .mini-callout {
      padding: 20px;
      border-radius: 20px;
      border: 1px solid var(--border);
      background: var(--panel2);
      margin-top: 20px;
    }

    .badge-inline {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 16px;
      border-radius: 50px;
      border: 1px solid var(--border);
      background: var(--panel2);
      font-weight: 600;
      font-size: 12px;
      color: var(--text);
      margin: 0 8px 8px 0;
    }

    .hr-soft { height: 1px; border: none; background: var(--border); margin: 24px 0; opacity: 0.5; }

    /************************************************************
     * SIDEBAR: TOC + AGENDA
     ************************************************************/
    .toc { display: flex; flex-direction: column; gap: 12px; }

    .toc a {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 14px 18px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: var(--panel2);
      font-weight: 600;
      color: var(--text);

      transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease, background-color 0.35s ease;
    }

    .toc a:hover {
      text-decoration: none;
      box-shadow: var(--ring);
      border-color: var(--primary);
      transform: translateX(4px);
    }

    .agenda-item {
      display: flex;
      gap: 16px;
      padding: 14px 0;
      border-bottom: 1px dashed var(--border);
      align-items: flex-start;
    }

    .agenda-item:last-child { border-bottom: none; }

    .agenda-time {
      min-width: 100px;
      text-align: center;
      padding: 8px 12px;
      border-radius: 12px;
      background: rgba(96, 165, 250, 0.1);
      border: 1px solid rgba(96, 165, 250, 0.2);
      font-weight: 600;
      font-size: 13px;
      color: var(--text);
    }

    .resource-list { list-style: none; }

    .resource-list li {
      padding: 12px 0;
      border-bottom: 1px solid var(--border);
      display: flex;
      gap: 12px;
      align-items: flex-start;
    }

    .resource-list li:last-child { border-bottom: none; }
    .resource-list i { color: var(--primary); margin-top: 4px; flex-shrink: 0; }

    .qa { margin-top: 20px; border: 1px solid var(--border); border-radius: 20px; overflow: hidden; background: var(--panel2); }
    details { border-top: 1px solid var(--border); padding: 16px 20px; }
    details:first-child { border-top: none; }

    summary {
      cursor: pointer;
      font-weight: 600;
      color: var(--text);
      display: flex;
      align-items: center;
      gap: 12px;
      list-style: none;
    }

    summary::-webkit-details-marker { display: none; }
    details p { margin-top: 12px; color: var(--muted); padding-left: 32px; }

    footer {
      text-align: center;
      margin-top: 32px;
      padding-top: 24px;
      border-top: 1px solid var(--border);
      color: var(--muted2);
      font-size: 14px;
      line-height: 1.6;
    }

    /************************************************************
     * ACCESSIBILITY
     ************************************************************/
    @media (prefers-reduced-motion: reduce) {
      html { scroll-behavior: auto !important; }
      * { transition: none !important; }
    }

    .visually-hidden {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    *:focus-visible { outline: 2px solid var(--primary); outline-offset: 2px; }

    /* Print styles */
    @media print {
      .theme-toggle-container,
      .interactive,
      textarea,
      .btn,
      .range-wrap {
        display: none !important;
      }

      body {
        background: white !important;
        color: black !important;
      }

      .panel {
        box-shadow: none !important;
        border: 1px solid #ddd !important;
      }
    }
  </style>
</head>

<body data-theme="night">
  <!-- Theme Toggle -->
  <div class="theme-toggle-container">
    <button class="theme-toggle" id="themeToggle" type="button" aria-label="Theme: Night Mode (click to toggle)">
      <span class="label" id="themeLabel">Night Mode</span>
    </button>
  </div>

  <a class="skip" href="#main">Skip to content</a>

  <div class="container">
    <header>
      <div class="course-header">
        <div class="course-info">
          <h1>IAF 604: Machine Learning &amp; Predictive Analytics</h1>
          <h2>Module 1 — AI Foundations → ML Mindset → Tools → Python → Cloud</h2>
          <div class="badge"><i class="fa-solid fa-layer-group"></i> Week 1: The Big Picture + First Hands-On</div>
          <p class="subtitle">
            This module is designed for graduate students in Informatics &amp; Analytics. It starts from first principles (AI),
            builds correct conceptual boundaries (AI vs ML vs DL vs GenAI), then transitions into real practice: tools, Python,
            and why cloud becomes essential for modern ML systems.
          </p>
        </div>

        <div class="meta">
          <p><strong>Instructor:</strong> Ali Noori</p>
          <p><strong>Module:</strong> 1</p>
          <p><strong>Estimated time:</strong> 2–3 hours (lecture + setup + mini-lab)</p>
          <div class="pillrow">
            <span class="pill"><i class="fa-solid fa-brain"></i> AI</span>
            <span class="pill"><i class="fa-solid fa-diagram-project"></i> AI vs ML</span>
            <span class="pill"><i class="fa-solid fa-bullseye"></i> ML thinking</span>
            <span class="pill"><i class="fa-solid fa-screwdriver-wrench"></i> Tools</span>
            <span class="pill"><i class="fa-brands fa-python"></i> Python</span>
            <span class="pill"><i class="fa-solid fa-cloud"></i> Cloud</span>
          </div>
        </div>
      </div>
    </header>

    <div class="layout">
      <!-- MAIN CONTENT -->
      <main id="main" class="panel main">
        <!-- MODULE OVERVIEW -->
        <section id="overview" class="section">
          <h4><i class="fa-solid fa-map"></i> 1) Module overview (what you'll learn and why it matters)</h4>
          <p class="lead">
            The words <strong>AI</strong> and <strong>ML</strong> are often used as marketing labels. In real practice,
            these terms describe different capabilities, different risks, and different workflows.
            In Module 1, you will build a strong foundation that prevents common mistakes:
            using ML when a rule is enough, evaluating models incorrectly, confusing "prediction" with "decision,"
            and believing tools replace reasoning.
          </p>

          <div class="callout">
            <p><strong>Learning outcomes (complete):</strong></p>
            <ul style="padding-left:20px; margin-top:12px;">
              <li>Define AI precisely and explain the major families: rule-based, ML-based, deep learning, and generative AI.</li>
              <li>Explain how <strong>AI vs ML vs DL vs GenAI</strong> differ in inputs/outputs, learning mechanism, and typical use cases.</li>
              <li>Recognize when to use rules, classical ML, or deep learning (and when none is appropriate).</li>
              <li>Describe the end-to-end ML lifecycle and where most effort actually goes (hint: data).</li>
              <li>Set up a working ML environment (Colab) and understand how it maps to local and cloud setups.</li>
              <li>Write and run basic Python for data creation, visualization, and simple modeling intuition.</li>
              <li>Explain what "cloud for ML" means (compute, storage, managed ML services, and MLOps).</li>
            </ul>
          </div>

          <div class="chart">
            <div class="chart-title">
              <span>Reality check: where ML time goes</span>
              <span class="muted">data vs modeling vs deployment</span>
            </div>
            <canvas id="timeWhereGoes"></canvas>
          </div>
        </section>

        <!-- AI FOUNDATIONS -->
        <section id="ai" class="section">
          <h4><i class="fa-solid fa-brain"></i> 2) Artificial Intelligence (AI): the umbrella term</h4>

          <div class="definition">
            <p>
              <strong>Artificial Intelligence (AI)</strong> is the field of designing systems that perform tasks that normally require human intelligence:
              perception (seeing/hearing), language understanding, reasoning, planning, and decision-making.
            </p>
          </div>

          <p class="lead">
            A useful way to understand AI is to treat it as a spectrum of approaches.
            Some AI is <strong>explicit</strong> (we tell the system rules).
            Some AI is <strong>learned</strong> (the system learns patterns from data).
            Modern AI systems are often <strong>hybrid</strong>: learned models + hard constraints + business logic.
          </p>

          <div class="cards3">
            <div class="mini-card violet">
              <h5><i class="fa-solid fa-gears"></i> Symbolic / rule-based AI</h5>
              <p>Uses human-created rules, logic, or knowledge graphs. It is strong when the world is stable and rules are known.</p>
              <ul>
                <li><strong>Example:</strong> "If account is new AND transfer > $10k, require verification."</li>
                <li><strong>Strength:</strong> transparent, predictable, auditable</li>
                <li><strong>Weakness:</strong> brittle for messy inputs like images and free text</li>
              </ul>
              <div class="chiprow">
                <span class="chip"><i class="fa-solid fa-list"></i> explicit rules</span>
                <span class="chip"><i class="fa-solid fa-scale-balanced"></i> audit-friendly</span>
              </div>
            </div>

            <div class="mini-card blue">
              <h5><i class="fa-solid fa-chart-line"></i> Machine learning AI</h5>
              <p>Learns statistical patterns from data and uses them to predict or classify. Strong when patterns are complex or changing.</p>
              <ul>
                <li><strong>Example:</strong> predict churn from usage history</li>
                <li><strong>Strength:</strong> adapts with data, handles complexity</li>
                <li><strong>Weakness:</strong> needs training data and robust evaluation</li>
              </ul>
              <div class="chiprow">
                <span class="chip"><i class="fa-solid fa-database"></i> data-driven</span>
                <span class="chip"><i class="fa-solid fa-shuffle"></i> probabilistic</span>
              </div>
            </div>

            <div class="mini-card pink">
              <h5><i class="fa-solid fa-wand-magic-sparkles"></i> Generative AI</h5>
              <p>Generates new content (text, images, code). Often powered by deep learning. Useful for drafting, summarizing, and assisting.</p>
              <ul>
                <li><strong>Example:</strong> summarize a report into bullet points</li>
                <li><strong>Strength:</strong> productivity and content generation</li>
                <li><strong>Weakness:</strong> hallucinations → requires validation</li>
              </ul>
              <div class="chiprow">
                <span class="chip"><i class="fa-solid fa-pen-nib"></i> generates</span>
                <span class="chip"><i class="fa-solid fa-shield-halved"></i> needs checks</span>
              </div>
            </div>
          </div>

          <div class="chart">
            <div class="chart-title">
              <span>AI landscape map</span>
              <span class="muted">data-driven vs reasoning/structure</span>
            </div>
            <canvas id="aiLandscape"></canvas>
          </div>

          <div class="note">
            <strong>Important mindset:</strong> "AI" is not automatically correct or beneficial.
            The right question is: <em>What decision are we trying to improve, with what data, and at what cost/risk?</em>
          </div>
        </section>

        <!-- ENHANCED: MACHINE LEARNING VS ARTIFICIAL INTELLIGENCE READING -->
        <section id="ml-vs-ai-reading" class="section">
          <h4><i class="fa-solid fa-diagram-project"></i> 3) Machine Learning vs Artificial Intelligence (complete foundation)</h4>

          <div class="reading-banner">
            <p class="lead">
              <strong>Why this section exists:</strong> In practice, the words "AI" and "ML" are often used interchangeably,
              which leads to poor technical decisions (using ML when rules work, evaluating the wrong thing, or deploying models without monitoring).
              This reading gives you clean boundaries and a professional mental model.
            </p>
            <p class="small" style="margin-top:12px;">
              <span class="badge-inline"><i class="fa-solid fa-calendar"></i> Last updated: 15 Sep, 2025</span>
              <span class="badge-inline"><i class="fa-solid fa-graduation-cap"></i> Level: Graduate</span>
              <span class="badge-inline"><i class="fa-solid fa-shield-halved"></i> Emphasis: Decision + Risk</span>
            </p>
          </div>

          <div class="kpi-grid">
            <div class="kpi">
              <div class="kpi-top">
                <div class="kpi-title"><i class="fa-solid fa-brain" style="color:var(--primary)"></i> AI</div>
                <div class="kpi-value">Umbrella</div>
              </div>
              <p>AI is the broad goal: systems that behave intelligently (reason, plan, decide, perceive, understand language).</p>
            </div>

            <div class="kpi">
              <div class="kpi-top">
                <div class="kpi-title"><i class="fa-solid fa-chart-line" style="color:var(--cyan)"></i> ML</div>
                <div class="kpi-value">Subset</div>
              </div>
              <p>ML is one way to achieve AI: models learn patterns from data to predict, classify, or optimize.</p>
            </div>

            <div class="kpi">
              <div class="kpi-top">
                <div class="kpi-title"><i class="fa-solid fa-network-wired" style="color:var(--secondary)"></i> Deep Learning</div>
                <div class="kpi-value">Subset of ML</div>
              </div>
              <p>Neural networks with many layers; strong for images, audio, and natural language (often needs more data/compute).</p>
            </div>

            <div class="kpi">
              <div class="kpi-top">
                <div class="kpi-title"><i class="fa-solid fa-wand-magic-sparkles" style="color:var(--accent)"></i> GenAI</div>
                <div class="kpi-value">Often DL</div>
              </div>
              <p>Produces new content (text/images/code). Powerful for assistance, but outputs must be verified.</p>
            </div>
          </div>

          <hr class="hr-soft"/>

          <div class="definition">
            <p>
              <strong>Artificial Intelligence (AI)</strong> is the broad field of building systems that can perform tasks requiring human intelligence:
              reasoning, planning, learning, perception, and language understanding.
            </p>
          </div>

          <div class="callout">
            <p><strong>Key point:</strong> AI is not one algorithm. It includes multiple approaches:</p>
            <ul style="padding-left:20px; margin-top:12px;">
              <li><strong>Rule-based / symbolic AI:</strong> explicit human-defined logic</li>
              <li><strong>Machine Learning AI:</strong> learned patterns from data</li>
              <li><strong>Optimization &amp; planning:</strong> solving constrained decision problems</li>
              <li><strong>Hybrid systems:</strong> ML + business rules + human review (common in industry)</li>
            </ul>
          </div>

          <div class="mini-callout">
            <div class="box-title">
              <i class="fa-solid fa-bullseye" style="color:var(--success)"></i> Professional framing: Prediction vs Decision
            </div>
            <p class="muted">
              Most ML models output a <strong>score</strong> or <strong>probability</strong>. A system then converts that into a
              <strong>decision</strong> using thresholds, rules, human review, and constraints (cost, fairness, safety).
              Confusing prediction with decision is a common deployment mistake.
            </p>
          </div>

          <div class="chart">
            <div class="chart-title">
              <span>AI ⊃ ML ⊃ DL (concept view)</span>
              <span class="muted">quick mental model</span>
            </div>
            <canvas id="aiMlDlDonut"></canvas>
          </div>

          <div class="chart">
            <div class="chart-title">
              <span>Rules vs ML vs DL: when each is a better fit</span>
              <span class="muted">tradeoff radar</span>
            </div>
            <canvas id="rulesMlDlRadar"></canvas>
          </div>

          <hr class="hr-soft"/>

          <h4 style="margin-top:8px;"><i class="fa-solid fa-scale-balanced"></i> Key differences (AI vs ML)</h4>
          <p class="muted">
            Use this table as a reference throughout the course. In assignments, you should be able to justify the choice of approach
            using these dimensions.
          </p>

          <div class="table-actions">
            <button class="btn btn-ghost" id="copyAiMlTable" type="button"><i class="fa-solid fa-copy"></i> Copy table</button>
            <span id="copyStatus" class="muted"></span>
          </div>

          <table class="data-table" id="aiMlTable">
            <thead>
              <tr>
                <th>Feature</th>
                <th>Artificial Intelligence (AI)</th>
                <th>Machine Learning (ML)</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Definition</td>
                <td>Simulates intelligent behavior in machines (reasoning, planning, perception, language)</td>
                <td>Enables machines to learn patterns from data and improve performance on tasks</td>
              </tr>
              <tr>
                <td>Scope</td>
                <td>Broader field</td>
                <td>Subset of AI</td>
              </tr>
              <tr>
                <td>Main objective</td>
                <td>Build intelligent systems capable of reasoning and decision-making</td>
                <td>Predict outcomes, classify, rank, or discover patterns</td>
              </tr>
              <tr>
                <td>Approach</td>
                <td>Rule-based, logic-based, optimization, and ML-based methods</td>
                <td>Data-driven statistical/algorithmic learning</td>
              </tr>
              <tr>
                <td>Data dependency</td>
                <td>Not always data-dependent (rules can work without big datasets)</td>
                <td>Highly dependent on data quality and quantity</td>
              </tr>
              <tr>
                <td>Typical output</td>
                <td>Decisions, plans, actions, reasoning chains</td>
                <td>Predictions, classifications, probabilities, embeddings</td>
              </tr>
              <tr>
                <td>Types</td>
                <td>Narrow AI (real), General AI (hypothetical), Super AI (theoretical)</td>
                <td>Supervised, Unsupervised, Reinforcement learning</td>
              </tr>
              <tr>
                <td>Common applications</td>
                <td>Robotics, assistants, autonomy, multi-step decision systems</td>
                <td>Spam filtering, recommendations, predictive analytics, forecasting</td>
              </tr>
              <tr>
                <td>Example systems</td>
                <td>Virtual assistants, hybrid decision systems</td>
                <td>Gmail spam filter, Netflix recommendations</td>
              </tr>
            </tbody>
          </table>

          <div class="qa">
            <details open>
              <summary><i class="fa-solid fa-circle-question"></i> When should I choose rules instead of ML?</summary>
              <p class="muted">
                Choose rules when the logic is stable, easy to define, and errors must be deterministic and explainable.
                Rules are also a good baseline: if rules solve it reliably, ML may add unnecessary risk.
              </p>
            </details>
            <details>
              <summary><i class="fa-solid fa-circle-question"></i> When is ML clearly the better choice?</summary>
              <p class="muted">
                ML is strong when relationships are complex, the environment changes over time, or inputs are messy (text/images/logs).
                The key requirement is that you can measure performance and iterate safely.
              </p>
            </details>
            <details>
              <summary><i class="fa-solid fa-circle-question"></i> Is Deep Learning always better than classical ML?</summary>
              <p class="muted">
                Not necessarily. Deep learning can be powerful but often requires more data, compute, and tuning.
                Many business problems are solved best with simpler, cheaper models (linear/logistic regression, tree-based methods).
              </p>
            </details>
          </div>

          <div class="note">
            <strong>Instructor note:</strong>
            In later modules, you'll operationalize this distinction through preprocessing, pipelines, evaluation,
            and ultimately deployment + monitoring (MLOps). For now, your job is to choose the right approach and justify it.
          </div>
        </section>

        <!-- ML MINDSET -->
        <section id="ml-thinking" class="section">
          <h4><i class="fa-solid fa-bullseye"></i> 4) ML mindset: the lifecycle (what professionals actually do)</h4>

          <p class="lead">
            Most ML failures are not "bad algorithms." They are <strong>bad problem framing</strong>, <strong>weak data</strong>,
            <strong>incorrect evaluation</strong>, or <strong>no monitoring</strong>. This lifecycle is the backbone of the course.
          </p>

          <div class="cards3">
            <div class="mini-card cyan">
              <h5><i class="fa-solid fa-pen-to-square"></i> A) Frame the problem</h5>
              <ul>
                <li><strong>What is the task?</strong> classification, regression, ranking, clustering, anomaly detection</li>
                <li><strong>What is success?</strong> accuracy, precision/recall, RMSE, cost savings, time saved</li>
                <li><strong>What are constraints?</strong> privacy, fairness, latency, explainability</li>
              </ul>
            </div>
            <div class="mini-card cyan">
              <h5><i class="fa-solid fa-database"></i> B) Data + features</h5>
              <ul>
                <li>Collect/clean data, handle missingness, outliers</li>
                <li><strong>Feature engineering:</strong> represent raw inputs into useful signals</li>
                <li><strong>Label quality:</strong> noisy labels = noisy models</li>
              </ul>
            </div>
            <div class="mini-card cyan">
              <h5><i class="fa-solid fa-magnifying-glass-chart"></i> C) Train + evaluate</h5>
              <ul>
                <li>Split data correctly (train/validation/test)</li>
                <li>Avoid leakage; compare against baselines</li>
                <li>Use appropriate metrics (especially for imbalance)</li>
              </ul>
            </div>
          </div>

          <div class="cards3">
            <div class="mini-card cyan">
              <h5><i class="fa-solid fa-rocket"></i> D) Deploy</h5>
              <ul>
                <li>Batch predictions or real-time API</li>
                <li>Version model artifacts, document assumptions</li>
                <li>Integrate with business process</li>
              </ul>
            </div>
            <div class="mini-card cyan">
              <h5><i class="fa-solid fa-chart-pie"></i> E) Monitor</h5>
              <ul>
                <li>Track prediction distribution shifts</li>
                <li>Measure performance drift over time</li>
                <li>Alert when model needs review</li>
              </ul>
            </div>
            <div class="mini-card cyan">
              <h5><i class="fa-solid fa-repeat"></i> F) Improve</h5>
              <ul>
                <li>Retrain with new data</li>
                <li>Refine features and thresholds</li>
                <li>Run experiments and compare results</li>
              </ul>
            </div>
          </div>

          <div class="chart">
            <div class="chart-title">
              <span>Lifecycle flow (from idea to production)</span>
              <span class="muted">process diagram</span>
            </div>
            <canvas id="lifecycleFlow"></canvas>
          </div>

          <div class="interactive">
            <h5 style="display:flex; gap:12px; align-items:center; margin-bottom:8px;">
              <i class="fa-solid fa-sliders" style="color:var(--primary)"></i> Interactive intuition: messier data → more effort
            </h5>
            <p class="muted">
              Slide data messiness to see how effort distribution shifts. This is why "data understanding" is the core job skill.
            </p>

            <div class="formrow">
              <div class="range-wrap">
                <label for="messiness">Data messiness</label>
                <input id="messiness" type="range" min="0" max="100" value="55" />
                <output id="messinessOut">55</output>
              </div>
            </div>

            <div class="chart" style="margin-top:20px;">
              <div class="chart-title">
                <span>Effort distribution (updates with slider)</span>
                <span class="muted">normalized to 100%</span>
              </div>
              <canvas id="workflowStacked"></canvas>
            </div>
          </div>

          <div class="qa">
            <details open>
              <summary><i class="fa-solid fa-circle-question"></i> What is "overfitting"?</summary>
              <p class="muted">
                Overfitting happens when a model learns the training data too closely (including noise), then performs poorly on new data.
                The cure is proper evaluation (holdout test), regularization, simpler models, or more data.
              </p>
            </details>
            <details>
              <summary><i class="fa-solid fa-circle-question"></i> What is "data leakage"?</summary>
              <p class="muted">
                Leakage occurs when features include information that would not be available at prediction time, or indirectly encode the label.
                It causes unrealistic performance that collapses in real-world use. We will practice preventing leakage later.
              </p>
            </details>
          </div>
        </section>

        <!-- TOOLS -->
        <section id="tools" class="section">
          <h4><i class="fa-solid fa-screwdriver-wrench"></i> 5) Platforms &amp; software (what we use and why)</h4>

          <p class="lead">
            ML work happens in phases: quick exploration, repeatable experiments, and structured projects.
            You'll use multiple tools across the semester. In Module 1 we prioritize a fast start.
          </p>

          <div class="cards3">
            <div class="mini-card blue">
              <h5><i class="fa-brands fa-google"></i> Google Colab</h5>
              <p><strong>Why:</strong> no install, easy sharing, access to GPUs (optional).</p>
              <p><strong>Best for:</strong> learning, labs, prototypes.</p>
              <div class="chiprow">
                <span class="chip"><i class="fa-solid fa-cloud"></i> runs in cloud</span>
                <span class="chip"><i class="fa-solid fa-users"></i> shareable</span>
              </div>
              <a class="btn" href="https://colab.research.google.com/" target="_blank" rel="noreferrer">
                <i class="fa-solid fa-arrow-up-right-from-square"></i> Open Colab
              </a>
            </div>

            <div class="mini-card violet">
              <h5><i class="fa-solid fa-book"></i> Jupyter Notebook</h5>
              <p><strong>Why:</strong> standard for analysis + narrative + plots.</p>
              <p><strong>Best for:</strong> exploratory data analysis (EDA).</p>
              <div class="chiprow">
                <span class="chip"><i class="fa-solid fa-pen"></i> narrative</span>
                <span class="chip"><i class="fa-solid fa-chart-line"></i> visual</span>
              </div>
              <a class="btn btn-ghost" href="https://jupyter.org/" target="_blank" rel="noreferrer">
                <i class="fa-solid fa-arrow-up-right-from-square"></i> Learn more
              </a>
            </div>

            <div class="mini-card green">
              <h5><i class="fa-solid fa-code"></i> VS Code + Git</h5>
              <p><strong>Why:</strong> professional workflow, debugging, project structure, teamwork.</p>
              <p><strong>Best for:</strong> assignments/projects, pipelines, reproducibility.</p>
              <div class="chiprow">
                <span class="chip"><i class="fa-solid fa-code-branch"></i> versioning</span>
                <span class="chip"><i class="fa-solid fa-bug"></i> debugging</span>
              </div>
              <a class="btn btn-secondary" href="https://code.visualstudio.com/" target="_blank" rel="noreferrer">
                <i class="fa-solid fa-download"></i> Download VS Code
              </a>
            </div>
          </div>

          <div class="chart">
            <div class="chart-title">
              <span>Tool chooser (radar)</span>
              <span class="muted">Colab vs Jupyter vs VS Code</span>
            </div>
            <canvas id="toolRadar"></canvas>
          </div>

          <div class="callout">
            <p><strong>Course stack (preview):</strong></p>
            <ul style="padding-left:20px; margin-top:12px;">
              <li><strong>Data:</strong> Pandas + SQL concepts</li>
              <li><strong>Modeling:</strong> scikit-learn (classical ML) → later deep learning frameworks</li>
              <li><strong>Experiment hygiene:</strong> train/test split, baselines, metrics</li>
              <li><strong>MLOps (later):</strong> pipelines, deployment patterns, monitoring</li>
            </ul>
          </div>

          <div class="interactive">
            <h5 style="display:flex; gap:12px; align-items:center; margin-bottom:8px;">
              <i class="fa-solid fa-list-check" style="color:var(--primary)"></i> Setup checklist (Module 1)
            </h5>
            <ol style="padding-left:20px;">
              <li>Open Colab and create a notebook</li>
              <li>Run one cell successfully (<code>Shift + Enter</code>)</li>
              <li>(Optional) Install VS Code + Python extension</li>
              <li>(Optional) Create a GitHub account (for later modules)</li>
            </ol>
          </div>
        </section>

        <!-- PYTHON -->
        <section id="python" class="section">
          <h4><i class="fa-brands fa-python"></i> 6) Python for ML: essentials you'll use immediately</h4>

          <div class="callout">
            <p>
              <strong>Why Python?</strong> Because ML is a combination of data, math, and software engineering.
              Python is readable (fast learning curve) and has a powerful ecosystem.
            </p>
            <ul style="padding-left:20px; margin-top:12px;">
              <li><strong>NumPy</strong> for arrays and fast math</li>
              <li><strong>Pandas</strong> for tabular data and cleaning</li>
              <li><strong>Matplotlib</strong> for plotting and diagnostics</li>
              <li><strong>scikit-learn</strong> for classic ML algorithms</li>
            </ul>
          </div>

          <div class="cards3">
            <div class="mini-card gray">
              <h5><i class="fa-solid fa-seedling"></i> A note on randomness</h5>
              <p>Many ML processes include randomness (sampling, initialization). For learning and grading, we set a random seed to make results reproducible.</p>
              <div class="chiprow">
                <span class="chip"><i class="fa-solid fa-dice"></i> randomness</span>
                <span class="chip"><i class="fa-solid fa-repeat"></i> reproducibility</span>
              </div>
            </div>
            <div class="mini-card gray">
              <h5><i class="fa-solid fa-box"></i> Environments (preview)</h5>
              <p>Real projects require consistent libraries. Later you'll learn virtual environments (venv/conda) to keep dependencies stable.</p>
              <div class="chiprow">
                <span class="chip"><i class="fa-solid fa-puzzle-piece"></i> dependencies</span>
                <span class="chip"><i class="fa-solid fa-lock"></i> stable runs</span>
              </div>
            </div>
            <div class="mini-card gray">
              <h5><i class="fa-solid fa-code-branch"></i> Git matters</h5>
              <p>ML work is iterative. Git tracks what changed and why. It also makes collaboration and submission clean.</p>
              <div class="chiprow">
                <span class="chip"><i class="fa-solid fa-clock-rotate-left"></i> history</span>
                <span class="chip"><i class="fa-solid fa-people-group"></i> collaboration</span>
              </div>
            </div>
          </div>

          <div class="interactive">
            <h5 style="margin-bottom:8px; display:flex; gap:12px; align-items:center;">
              <i class="fa-solid fa-play" style="color:var(--primary)"></i> Hands-on (Colab): from data → plot → simple model intuition
            </h5>
            <p class="muted">
              This mini-lab is not "full ML" yet. It builds the basic muscle: create data, inspect it, visualize, and fit a simple trend.
            </p>

            <pre><code># Module 1 Hands-On: data → visualization → simple trend (copy into Colab)

import numpy as np
import pandas as pd
import matplotlib.pyplot as plt

np.random.seed(7)

# 1) Create a simulated dataset
n = 80
hours = np.random.uniform(0, 10, n)
sleep = np.random.uniform(4, 9, n)

# Relationship: study hours help; very low sleep hurts; noise exists
noise = np.random.normal(0, 6, n)
score = 40 + 4.5 * hours + 1.2 * sleep + noise

df = pd.DataFrame({
    "hours_studied": hours,
    "sleep_hours": sleep,
    "exam_score": score
})

# 2) Inspect (first rows + summary)
print(df.head())
print("\nSummary:\n", df.describe())

# 3) Plot relationships
plt.figure(figsize=(10,4))
plt.scatter(df["hours_studied"], df["exam_score"], alpha=0.75)
plt.title("Hours Studied vs Exam Score (Simulated)")
plt.xlabel("Hours studied")
plt.ylabel("Exam score")
plt.grid(True, alpha=0.25)
plt.show()

plt.figure(figsize=(10,4))
plt.scatter(df["sleep_hours"], df["exam_score"], alpha=0.75)
plt.title("Sleep Hours vs Exam Score (Simulated)")
plt.xlabel("Sleep hours")
plt.ylabel("Exam score")
plt.grid(True, alpha=0.25)
plt.show()

# 4) Fit a simple linear trend: score ~ hours (one-variable intuition)
m, b = np.polyfit(df["hours_studied"], df["exam_score"], 1)
print(f"Trend line (hours only): score ≈ {m:.2f} * hours + {b:.2f}")

# 5) Predict a score for a new student (simple model)
new_hours = 7
pred = m * new_hours + b
print(f"Predicted score for {new_hours} study hours: {pred:.1f}")</code></pre>

            <div class="note">
              <strong>Conceptual takeaway:</strong> ML learns relationships from examples. Even this tiny exercise shows:
              (1) data has noise, (2) patterns can still exist, (3) models estimate a relationship, not a certainty.
            </div>
          </div>
        </section>

        <!-- CLOUD -->
        <section id="cloud" class="section">
          <h4><i class="fa-solid fa-cloud"></i> 7) Cloud for ML: how modern systems scale</h4>

          <div class="definition">
            <p><strong>Cloud computing</strong> = renting compute + storage + services on demand (instead of doing everything on your laptop).</p>
          </div>

          <p class="lead">
            Cloud becomes necessary when data is large, training is computationally heavy, teams collaborate, or the model must be deployed reliably.
            In short: cloud helps you move from "a notebook that works" to "a system that runs in production."
          </p>

          <div class="cards3">
            <div class="mini-card blue">
              <h5><i class="fa-solid fa-server"></i> Compute</h5>
              <p>Virtual machines, containers, and specialized hardware (GPUs/TPUs).</p>
              <ul>
                <li>Train models faster</li>
                <li>Run batch jobs at scale</li>
                <li>Serve real-time APIs</li>
              </ul>
            </div>
            <div class="mini-card violet">
              <h5><i class="fa-solid fa-database"></i> Storage</h5>
              <p>Object storage for datasets and model artifacts.</p>
              <ul>
                <li>Centralized data access</li>
                <li>Versioning of artifacts</li>
                <li>Integration with pipelines</li>
              </ul>
            </div>
            <div class="mini-card pink">
              <h5><i class="fa-solid fa-gears"></i> Managed ML + MLOps</h5>
              <p>Platforms that help with training, tracking, deployment, monitoring.</p>
              <ul>
                <li>Experiment tracking</li>
                <li>Model registry</li>
                <li>Monitoring + retraining</li>
              </ul>
            </div>
          </div>

          <div class="chart">
            <div class="chart-title">
              <span>Laptop → cloud (roadmap)</span>
              <span class="muted">how skills evolve</span>
            </div>
            <canvas id="roadmap"></canvas>
          </div>

          <div class="note">
            <div class="box-title"><i class="fa-solid fa-shield-halved" style="color:var(--warning)"></i> Cloud caution (professional practice)</div>
            <ul style="padding-left:20px;">
              <li><strong>Security:</strong> do not upload sensitive data to unapproved tools.</li>
              <li><strong>Cost:</strong> GPUs can be expensive; shut down resources.</li>
              <li><strong>Governance:</strong> access control, auditing, and compliance are real constraints.</li>
            </ul>
          </div>
        </section>

        <!-- MINI-LAB + REFLECTION -->
        <section id="mini-lab" class="section">
          <h4><i class="fa-solid fa-flask"></i> 8) Mini-lab: from AI idea → ML framing (your turn)</h4>

          <div class="callout">
            <p>
              <strong>Goal:</strong> practice thinking like an ML practitioner by framing a problem correctly.
              Pick a real scenario you care about (workplace, campus, healthcare, finance, cybersecurity, etc.).
            </p>
            <p class="small" style="margin-top:12px;">
              In later modules, you will implement end-to-end pipelines. For now, we build the reasoning skill.
            </p>
          </div>

          <div class="cards3">
            <div class="mini-card cyan">
              <h5><i class="fa-solid fa-bullseye"></i> Step 1 — Define the decision</h5>
              <p class="muted">What action will the system improve? (approve/deny, alert/no-alert, recommend/not.)</p>
              <ul>
                <li>What does "success" look like?</li>
                <li>Who uses the output (human or automated)?</li>
              </ul>
            </div>
            <div class="mini-card cyan">
              <h5><i class="fa-solid fa-table"></i> Step 2 — Identify data</h5>
              <p class="muted">What inputs exist? Are they available at prediction time?</p>
              <ul>
                <li>Where will data come from?</li>
                <li>How will labels be defined?</li>
              </ul>
            </div>
            <div class="mini-card cyan">
              <h5><i class="fa-solid fa-triangle-exclamation"></i> Step 3 — Risk & constraints</h5>
              <p class="muted">What is the cost of being wrong?</p>
              <ul>
                <li>Bias, fairness, privacy constraints</li>
                <li>Explainability and audit needs</li>
              </ul>
            </div>
          </div>

          <div class="interactive">
            <h5 style="display:flex; gap:12px; align-items:center; margin-bottom:8px;">
              <i class="fa-solid fa-lightbulb" style="color:var(--primary)"></i> Reflection (saved locally)
            </h5>
            <p class="muted">Write a short ML framing paragraph. Keep it structured: decision, data, label, metric, risk.</p>
            <textarea id="reflection" placeholder="Example: Decision—flag suspicious transactions for review. Data—amount, location, time, device, merchant history. Label—confirmed fraud cases. Metric—precision/recall (reduce false negatives). Risk—false positives annoy customers; privacy constraints..."></textarea>
            <div class="formrow">
              <button class="btn" id="saveReflection" type="button"><i class="fa-solid fa-floppy-disk"></i> Save</button>
              <button class="btn btn-ghost" id="clearReflection" type="button"><i class="fa-solid fa-eraser"></i> Clear</button>
            </div>
            <div id="reflectionStatus" class="muted" style="margin-top:12px;"></div>
          </div>
        </section>

        <!-- WRAP -->
        <section id="wrap" class="section">
          <h4><i class="fa-solid fa-circle-check"></i> 9) Wrap-up + next steps</h4>

          <div class="callout">
            <p><strong>Module 1 completion checklist:</strong></p>
            <ul style="padding-left:20px; margin-top:12px;">
              <li>✅ You can define AI, ML, DL, and GenAI with examples.</li>
              <li>✅ You can explain rules vs ML tradeoffs and why evaluation matters.</li>
              <li>✅ You can describe the ML lifecycle (frame → data → train → deploy → monitor).</li>
              <li>✅ You ran a Python notebook in Colab and produced plots.</li>
              <li>✅ You understand what cloud provides and why it matters later.</li>
            </ul>
          </div>

          <div class="note">
            <strong>Next module preview:</strong>
            We move into data reality: dataset structures, missing values, categorical variables, scaling, train/test split,
            and the first reproducible preprocessing workflow.
          </div>
        </section>
      </main>

      <!-- SIDEBAR -->
      <aside class="sidebar">
        <div class="panel card">
          <h3><i class="fa-solid fa-compass"></i> Navigation</h3>
          <nav class="toc" aria-label="Module 1 table of contents">
            <a href="#overview"><i class="fa-solid fa-map"></i> Overview</a>
            <a href="#ai"><i class="fa-solid fa-brain"></i> AI foundations</a>
            <a href="#ml-vs-ai-reading"><i class="fa-solid fa-diagram-project"></i> AI vs ML Reading</a>
            <a href="#ml-thinking"><i class="fa-solid fa-bullseye"></i> ML lifecycle</a>
            <a href="#tools"><i class="fa-solid fa-screwdriver-wrench"></i> Tools</a>
            <a href="#python"><i class="fa-brands fa-python"></i> Python</a>
            <a href="#cloud"><i class="fa-solid fa-cloud"></i> Cloud</a>
            <a href="#mini-lab"><i class="fa-solid fa-flask"></i> Mini-lab</a>
            <a href="#wrap"><i class="fa-solid fa-circle-check"></i> Wrap</a>
          </nav>
        </div>

        <div class="panel card">
          <h3><i class="fa-solid fa-clock"></i> Suggested pacing (2–3 hours)</h3>
          <div class="agenda-item"><div class="agenda-time">0:00–0:20</div><div>Overview + "What is AI?"</div></div>
          <div class="agenda-item"><div class="agenda-time">0:20–0:50</div><div>AI approaches + examples</div></div>
          <div class="agenda-item"><div class="agenda-time">0:50–1:15</div><div>AI vs ML Reading</div></div>
          <div class="agenda-item"><div class="agenda-time">1:15–1:45</div><div>ML lifecycle + effort reality</div></div>
          <div class="agenda-item"><div class="agenda-time">1:45–2:05</div><div>Tools/platforms overview</div></div>
          <div class="agenda-item"><div class="agenda-time">2:05–2:35</div><div>Python hands-on in Colab</div></div>
          <div class="agenda-item"><div class="agenda-time">2:35–2:55</div><div>Cloud overview + cautions</div></div>
          <div class="agenda-item"><div class="agenda-time">2:55–3:10</div><div>Mini-lab reflection + wrap</div></div>
        </div>

        <div class="panel card">
          <h3><i class="fa-solid fa-book"></i> Key resources</h3>
          <ul class="resource-list">
            <li><i class="fa-solid fa-arrow-up-right-from-square"></i> <a href="https://colab.research.google.com/" target="_blank" rel="noreferrer">Google Colab</a> — notebooks in the cloud</li>
            <li><i class="fa-solid fa-arrow-up-right-from-square"></i> <a href="https://code.visualstudio.com/" target="_blank" rel="noreferrer">VS Code</a> — editor + debugging</li>
            <li><i class="fa-solid fa-arrow-up-right-from-square"></i> <a href="https://jupyter.org/" target="_blank" rel="noreferrer">Jupyter</a> — notebook standard</li>
            <li><i class="fa-solid fa-arrow-up-right-from-square"></i> <a href="https://scikit-learn.org/stable/" target="_blank" rel="noreferrer">scikit-learn</a> — classic ML</li>
            <li><i class="fa-solid fa-arrow-up-right-from-square"></i> <a href="https://www.python.org/" target="_blank" rel="noreferrer">Python</a> — language of ML</li>
          </ul>
        </div>

        <div class="panel card">
          <h3><i class="fa-solid fa-circle-question"></i> Common questions</h3>
          <p><strong>Do I need a strong computer?</strong><br/><span class="muted">No. Colab handles early modules.</span></p>
          <p style="margin-top:12px;"><strong>Is this course math-heavy?</strong><br/><span class="muted">We build intuition first; math comes as needed to explain models correctly.</span></p>
          <p style="margin-top:12px;"><strong>Will we deploy models?</strong><br/><span class="muted">Yes later. Module 1 introduces the lifecycle so deployments make sense.</span></p>
        </div>
      </aside>
    </div>

    <footer>
      IAF 604: Machine Learning &amp; Predictive Analytics | Instructor: Ali Noori | UNC Greensboro<br/>
      © 2024 Department of Informatics and Analytics — Educational use
    </footer>
  </div>

  <script>
    /************************************************************
     * Theme Toggle Functionality (cleaned up)
     ************************************************************/
    const themeToggle = document.getElementById('themeToggle');
    const themeLabel = document.getElementById('themeLabel');
    const body = document.body;

    const THEME_KEY = 'iaf604-theme';

    function applyTheme(theme) {
      body.setAttribute('data-theme', theme);

      // Update visible label + aria label
      const isDay = theme === 'day';
      const labelText = isDay ? 'Day Mode' : 'Night Mode';
      themeLabel.textContent = labelText;
      themeToggle.setAttribute('aria-label', `Theme: ${labelText} (click to toggle)`);
    }

    function initTheme() {
      const savedTheme = localStorage.getItem(THEME_KEY);
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

      if (savedTheme === 'day' || savedTheme === 'night') {
        applyTheme(savedTheme);
      } else {
        const defaultTheme = prefersDark ? 'night' : 'day';
        applyTheme(defaultTheme);
        localStorage.setItem(THEME_KEY, defaultTheme);
      }
    }

    function toggleTheme() {
      const current = body.getAttribute('data-theme');
      const next = current === 'night' ? 'day' : 'night';

      applyTheme(next);
      localStorage.setItem(THEME_KEY, next);

      updateChartThemes();

      // subtle click animation
      themeToggle.style.transform = 'scale(0.96)';
      setTimeout(() => (themeToggle.style.transform = 'scale(1)'), 140);
    }

    themeToggle.addEventListener('click', toggleTheme);

    // system theme changes (only if user hasn't explicitly saved one)
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
      const saved = localStorage.getItem(THEME_KEY);
      if (saved !== 'day' && saved !== 'night') {
        const newTheme = e.matches ? 'night' : 'day';
        applyTheme(newTheme);
        updateChartThemes();
      }
    });

    /************************************************************
     * Chart Configuration with Theme Support
     ************************************************************/
    const getChartColors = () => {
      const isDay = body.getAttribute('data-theme') === 'day';
      return {
        text: isDay ? 'rgba(15, 23, 42, 0.92)' : 'rgba(234, 240, 255, 0.92)',
        grid: isDay ? 'rgba(148, 163, 184, 0.25)' : 'rgba(148, 163, 184, 0.14)',
        minor: isDay ? 'rgba(148, 163, 184, 0.15)' : 'rgba(148, 163, 184, 0.10)',
        title: isDay ? 'rgba(15, 23, 42, 0.94)' : 'rgba(234, 240, 255, 0.94)',
        bg: isDay ? 'rgba(255, 255, 255, 0.8)' : 'rgba(15, 23, 42, 0.8)',
        primary: isDay ? '#2563EB' : '#60A5FA',
        secondary: isDay ? '#7C3AED' : '#A78BFA',
        accent: isDay ? '#DB2777' : '#F472B6',
        success: isDay ? '#10B981' : '#34D399',
        warning: isDay ? '#F59E0B' : '#FBBF24',
        cyan: isDay ? '#06B6D4' : '#22D3EE'
      };
    };

    function baseOptions(title) {
      const colors = getChartColors();
      return {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            labels: {
              color: colors.text,
              usePointStyle: true,
              pointStyle: "circle",
              font: { size: 12 }
            },
            position: 'bottom'
          },
          title: {
            display: true,
            text: title,
            color: colors.title,
            font: { weight: "bold", size: 14 }
          },
          tooltip: {
            enabled: true,
            backgroundColor: colors.bg,
            titleColor: colors.title,
            bodyColor: colors.text,
            borderColor: colors.grid,
            borderWidth: 1
          }
        },
        scales: {
          x: { ticks: { color: colors.text }, grid: { color: colors.minor } },
          y: { ticks: { color: colors.text }, grid: { color: colors.minor } }
        }
      };
    }

    let charts = {};

    function initCharts() {
      const colors = getChartColors();

      charts.timeWhereGoes = new Chart(document.getElementById("timeWhereGoes"), {
        type: "doughnut",
        data: {
          labels: ["Data collection/cleaning", "Feature work", "Modeling", "Evaluation", "Deployment/monitoring"],
          datasets: [{
            data: [35, 20, 15, 15, 15],
            backgroundColor: [colors.primary, colors.secondary, colors.accent, colors.success, colors.cyan],
            borderWidth: 2,
            borderColor: colors.bg
          }]
        },
        options: baseOptions("Effort distribution in real ML projects")
      });

      charts.aiLandscape = new Chart(document.getElementById("aiLandscape"), {
        type: "bubble",
        data: {
          datasets: [
            { label: "Symbolic / Rule-based AI", data: [{x: 22, y: 82, r: 14}], backgroundColor: colors.secondary },
            { label: "Machine Learning",         data: [{x: 70, y: 58, r: 18}], backgroundColor: colors.primary },
            { label: "Deep Learning",            data: [{x: 84, y: 42, r: 16}], backgroundColor: colors.accent },
            { label: "Generative AI",            data: [{x: 90, y: 28, r: 16}], backgroundColor: colors.warning },
            { label: "Planning / Optimization",  data: [{x: 40, y: 90, r: 12}], backgroundColor: colors.cyan }
          ]
        },
        options: {
          ...baseOptions("AI landscape (Illustrative map)"),
          scales: {
            x: { min: 0, max: 100, title: { display: true, text: "More data-driven learning →", color: colors.text } },
            y: { min: 0, max: 100, title: { display: true, text: "More reasoning / structure →", color: colors.text } }
          }
        }
      });

      charts.aiMlDlDonut = new Chart(document.getElementById("aiMlDlDonut"), {
        type: "doughnut",
        data: {
          labels: ["AI (non-ML)", "ML (non-DL)", "Deep Learning"],
          datasets: [{
            data: [38, 40, 22],
            backgroundColor: [colors.secondary, colors.primary, colors.accent],
            borderWidth: 2,
            borderColor: colors.bg
          }]
        },
        options: baseOptions("AI vs ML vs Deep Learning")
      });

      charts.rulesMlDlRadar = new Chart(document.getElementById("rulesMlDlRadar"), {
        type: "radar",
        data: {
          labels: ["Handles complex inputs", "Needs lots of data", "Transparency / explainability", "Adaptability over time", "Compute cost", "Fast to implement"],
          datasets: [
            { label: "Rules",       data: [25, 5, 92, 20, 10, 85], borderColor: colors.secondary, backgroundColor: colors.secondary + '20', borderWidth: 2, pointRadius: 3 },
            { label: "Classical ML",data: [70, 70, 60, 75, 40, 55], borderColor: colors.primary,   backgroundColor: colors.primary + '20',   borderWidth: 2, pointRadius: 3 },
            { label: "Deep Learning",data:[92, 90, 35, 85, 85, 30], borderColor: colors.accent,    backgroundColor: colors.accent + '20',    borderWidth: 2, pointRadius: 3 }
          ]
        },
        options: {
          ...baseOptions("Rules vs ML vs DL (Tradeoffs)"),
          scales: {
            r: {
              min: 0, max: 100,
              ticks: { display: false },
              grid: { color: colors.grid },
              angleLines: { color: colors.grid },
              pointLabels: { color: colors.text, font: { weight: "bold", size: 11 } }
            }
          }
        }
      });

      charts.lifecycleFlow = new Chart(document.getElementById("lifecycleFlow"), {
        type: "bar",
        data: {
          labels: ["Lifecycle stages"],
          datasets: [
            { label: "Frame",    data: [12], backgroundColor: colors.primary,   stack: "s" },
            { label: "Data",     data: [25], backgroundColor: colors.secondary, stack: "s" },
            { label: "Train",    data: [16], backgroundColor: colors.accent,    stack: "s" },
            { label: "Evaluate", data: [16], backgroundColor: colors.success,   stack: "s" },
            { label: "Deploy",   data: [16], backgroundColor: colors.cyan,      stack: "s" },
            { label: "Monitor",  data: [15], backgroundColor: colors.warning,   stack: "s" }
          ]
        },
        options: {
          ...baseOptions("ML lifecycle: stages and emphasis"),
          indexAxis: "y",
          scales: { x: { stacked: true, beginAtZero: true, max: 100 }, y: { stacked: true } }
        }
      });

      charts.workflowStacked = new Chart(document.getElementById("workflowStacked"), {
        type: "bar",
        data: {
          labels: ["ML Project (effort %)"],
          datasets: [
            { label: "Problem framing", data: [10], backgroundColor: colors.primary,   stack: "s" },
            { label: "Data cleaning",   data: [35], backgroundColor: colors.secondary, stack: "s" },
            { label: "Modeling",        data: [25], backgroundColor: colors.accent,    stack: "s" },
            { label: "Evaluation",      data: [15], backgroundColor: colors.success,   stack: "s" },
            { label: "Deploy/monitor",  data: [15], backgroundColor: colors.cyan,      stack: "s" }
          ]
        },
        options: {
          ...baseOptions("Effort distribution"),
          scales: { x: { stacked: true }, y: { stacked: true, beginAtZero: true, max: 100 } }
        }
      });

      charts.toolRadar = new Chart(document.getElementById("toolRadar"), {
        type: "radar",
        data: {
          labels: ["Start speed", "Project structure", "Collaboration", "Reproducibility", "Exploration", "Deployment readiness"],
          datasets: [
            { label: "Google Colab",   data: [95, 45, 65, 60, 92, 35], borderColor: colors.primary,   backgroundColor: colors.primary + '20',   borderWidth: 2, pointRadius: 3 },
            { label: "Jupyter (local)",data: [70, 55, 55, 75, 92, 45], borderColor: colors.secondary, backgroundColor: colors.secondary + '20', borderWidth: 2, pointRadius: 3 },
            { label: "VS Code (project)",data:[55, 92, 85, 88, 65, 82], borderColor: colors.success,  backgroundColor: colors.success + '20',  borderWidth: 2, pointRadius: 3 }
          ]
        },
        options: {
          ...baseOptions("Tool chooser"),
          scales: {
            r: {
              min: 0, max: 100,
              ticks: { display: false },
              grid: { color: colors.grid },
              angleLines: { color: colors.grid },
              pointLabels: { color: colors.text, font: { weight: "bold", size: 11 } }
            }
          }
        }
      });

      charts.roadmap = new Chart(document.getElementById("roadmap"), {
        type: "line",
        data: {
          labels: ["Module 1", "Modules 2–4", "Modules 5–8", "Modules 9–12", "Final"],
          datasets: [
            { label: "Notebook / local skills", data: [78, 84, 80, 70, 65], borderColor: colors.primary, backgroundColor: colors.primary + '20', tension: 0.35, borderWidth: 3, pointRadius: 5 },
            { label: "Cloud / MLOps skills",    data: [18, 25, 45, 65, 78], borderColor: colors.secondary, backgroundColor: colors.secondary + '20', tension: 0.35, borderWidth: 3, pointRadius: 5 }
          ]
        },
        options: baseOptions("Course progression: local → cloud")
      });
    }

    function updateChartThemes() {
      const colors = getChartColors();
      Object.values(charts).forEach(chart => {
        if (!chart) return;

        chart.options.plugins.title.color = colors.title;
        chart.options.plugins.legend.labels.color = colors.text;
        chart.options.plugins.tooltip.backgroundColor = colors.bg;
        chart.options.plugins.tooltip.titleColor = colors.title;
        chart.options.plugins.tooltip.bodyColor = colors.text;
        chart.options.plugins.tooltip.borderColor = colors.grid;

        if (chart.options.scales) {
          Object.values(chart.options.scales).forEach(scale => {
            if (scale.ticks) scale.ticks.color = colors.text;
            if (scale.grid) scale.grid.color = colors.minor;
            if (scale.title) scale.title.color = colors.text;
          });
        }

        if (chart.options.scales && chart.options.scales.r) {
          chart.options.scales.r.grid.color = colors.grid;
          chart.options.scales.r.angleLines.color = colors.grid;
          chart.options.scales.r.pointLabels.color = colors.text;
        }

        chart.update('none');
      });
    }

    /************************************************************
     * Interactive Components
     ************************************************************/
    const messiness = document.getElementById("messiness");
    const messinessOut = document.getElementById("messinessOut");

    function updateWorkflowFromMessiness(val) {
      let framing = 10;
      let cleaning = 28 + Math.round(val * 0.30);
      let modeling = 28 - Math.round(val * 0.12);
      let evaln = 16 + Math.round(val * 0.06);
      let deploy = 18 - Math.round(val * 0.10);

      const total = framing + cleaning + modeling + evaln + deploy;
      const scale = 100 / total;

      framing = Math.round(framing * scale);
      cleaning = Math.round(cleaning * scale);
      modeling = Math.round(modeling * scale);
      evaln = Math.round(evaln * scale);
      deploy = 100 - (framing + cleaning + modeling + evaln);

      if (charts.workflowStacked) {
        charts.workflowStacked.data.datasets[0].data[0] = framing;
        charts.workflowStacked.data.datasets[1].data[0] = cleaning;
        charts.workflowStacked.data.datasets[2].data[0] = modeling;
        charts.workflowStacked.data.datasets[3].data[0] = evaln;
        charts.workflowStacked.data.datasets[4].data[0] = deploy;
        charts.workflowStacked.update();
      }
    }

    if (messiness) {
      messiness.addEventListener("input", () => {
        messinessOut.value = messiness.value;
        updateWorkflowFromMessiness(Number(messiness.value));
      });
    }

    /************************************************************
     * Table copy functionality
     ************************************************************/
    (function() {
      const btn = document.getElementById("copyAiMlTable");
      const table = document.getElementById("aiMlTable");
      const status = document.getElementById("copyStatus");
      if (!btn || !table) return;

      function tableToTSV(tbl) {
        const rows = [...tbl.querySelectorAll("tr")].map(tr =>
          [...tr.children].map(td => td.innerText.replace(/\s+/g, " ").trim()).join("\t")
        );
        return rows.join("\n");
      }

      btn.addEventListener("click", async () => {
        try {
          const text = tableToTSV(table);
          await navigator.clipboard.writeText(text);
          if (status) status.textContent = "Copied ✔ (tab-separated for Excel/Sheets)";
          setTimeout(() => { if (status) status.textContent = ""; }, 2500);
        } catch (e) {
          if (status) status.textContent = "Copy failed (browser permissions).";
          setTimeout(() => { if (status) status.textContent = ""; }, 2500);
        }
      });
    })();

    /************************************************************
     * Reflection storage
     ************************************************************/
    const reflectionKey = "iaf604_m1_reflection";
    const reflectionEl = document.getElementById("reflection");
    const statusEl = document.getElementById("reflectionStatus");

    (function loadReflection() {
      const saved = localStorage.getItem(reflectionKey);
      if (saved && reflectionEl) reflectionEl.value = saved;
    })();

    const saveBtn = document.getElementById("saveReflection");
    const clearBtn = document.getElementById("clearReflection");

    if (saveBtn && reflectionEl) {
      saveBtn.addEventListener("click", () => {
        const val = reflectionEl.value.trim();
        if (!val) {
          statusEl.textContent = "Please write something before saving.";
          return;
        }
        localStorage.setItem(reflectionKey, val);
        statusEl.textContent = "Saved locally ✔";
      });
    }

    if (clearBtn && reflectionEl) {
      clearBtn.addEventListener("click", () => {
        reflectionEl.value = "";
        localStorage.removeItem(reflectionKey);
        statusEl.textContent = "Cleared.";
      });
    }

    /************************************************************
     * Initialize everything once
     ************************************************************/
    document.addEventListener('DOMContentLoaded', () => {
      initTheme();
      initCharts();
      updateChartThemes();

      if (messiness) {
        updateWorkflowFromMessiness(Number(messiness.value));
      }
    });
  </script>
</body>
</html>
